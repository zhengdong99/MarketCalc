<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°æ®åˆ†æå¹³å°</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }
        
        /* å¯¼èˆªæ æ ·å¼ */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: 700;
            color: #4361ee;
            padding: 20px 0;
        }
        
        .logo i {
            font-size: 28px;
        }
        
        .nav-menu {
            display: flex;
            list-style: none;
            gap: 5px;
        }
        
        .nav-item {
            position: relative;
        }
        
        .nav-link {
            display: block;
            padding: 20px 25px;
            text-decoration: none;
            color: #555;
            font-weight: 600;
            border-radius: 8px;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .nav-link:hover {
            background: #f0f4ff;
            color: #4361ee;
        }
        
        .nav-link.active {
            background: linear-gradient(135deg, #4361ee 0%, #3a0ca3 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 4px;
            background: #4361ee;
            border-radius: 2px;
        }
        
        /* ä¸»è¦å†…å®¹åŒºæ ·å¼ */
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .page-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .page-header h1 {
            font-size: 36px;
            color: white;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .page-header p {
            font-size: 18px;
            color: rgba(255, 255, 255, 0.9);
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* è®¡ç®—å™¨å®¹å™¨æ ·å¼ */
        .calculator-container {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .calculator-container.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .calculator-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            padding: 40px;
            margin-bottom: 30px;
            transition: transform 0.3s ease;
        }
        
        .calculator-card:hover {
            transform: translateY(-5px);
        }
        
        .calculator-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f0f4ff;
        }
        
        .calculator-header h2 {
            font-size: 28px;
            color: #333;
            margin-left: 15px;
        }
        
        .calculator-header i {
            font-size: 32px;
            color: #4361ee;
            background: #f0f4ff;
            padding: 15px;
            border-radius: 12px;
        }
        
        /* é¡µè„šæ ·å¼ */
        footer {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px 0;
            text-align: center;
            margin-top: 40px;
            border-top: 1px solid #e0e0e0;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        footer p {
            color: #666;
            font-size: 16px;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 992px) {
            .nav-container {
                flex-direction: column;
                padding: 0;
            }
            
            .nav-menu {
                width: 100%;
                justify-content: center;
                flex-wrap: wrap;
                padding: 0 10px 15px;
            }
            
            .nav-link {
                padding: 15px 20px;
            }
            
            .calculator-card {
                padding: 30px;
            }
        }
        
        @media (max-width: 768px) {
            .page-header h1 {
                font-size: 28px;
            }
            
            .nav-menu {
                flex-direction: column;
                align-items: center;
                gap: 0;
            }
            
            .nav-item {
                width: 100%;
                text-align: center;
            }
            
            .nav-link {
                border-radius: 0;
                border-bottom: 1px solid #f0f0f0;
            }
            
            .calculator-header {
                flex-direction: column;
                text-align: center;
            }
            
            .calculator-header h2 {
                margin-left: 0;
                margin-top: 15px;
            }
        }
        
        /* é€šç”¨è¯´æ˜æ ·å¼ */
        .instructions {
            background: #f0f4ff;
            padding: 20px;
            border-radius: 12px;
            margin-top: 25px;
            border-left: 4px solid #4361ee;
        }
        
        .instructions h4 {
            color: #4361ee;
            margin-bottom: 10px;
            font-size: 16px;
            display: flex;
            align-items: center;
        }
        
        .instructions h4 i {
            margin-right: 8px;
        }
        
        .instructions p {
            color: #666;
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 5px;
        }
        
        /* ==================== ç¬¬ä¸€ä¸ªè®¡ç®—å™¨ï¼šæ›å…‰é‡è®¡ç®—å™¨ ==================== */
        #calculator1 .input-group {
            margin-bottom: 25px;
        }
        
        #calculator1 label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
            font-size: 16px;
        }
        
        #calculator1 .input-with-unit {
            position: relative;
        }
        
        #calculator1 input {
            width: 100%;
            padding: 14px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }
        
        #calculator1 input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background: white;
        }
        
        #calculator1 .unit {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #667eea;
            font-weight: 600;
            background: white;
            padding: 0 8px;
        }
        
        #calculator1 .button-group {
            display: flex;
            gap: 15px;
            margin: 30px 0;
        }
        
        #calculator1 button {
            flex: 1;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        #calculator1 .calculate-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        #calculator1 .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        #calculator1 .reset-btn {
            background: #f8f9fa;
            color: #666;
            border: 2px solid #e0e0e0;
        }
        
        #calculator1 .reset-btn:hover {
            background: #f1f3f5;
        }
        
        #calculator1 .result {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin-top: 20px;
            display: none;
        }
        
        #calculator1 .result.show {
            display: block;
        }
        
        #calculator1 .result-value {
            font-size: 48px;
            font-weight: 700;
            margin: 10px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        #calculator1 .result-detail {
            font-size: 16px;
            opacity: 0.9;
            margin-top: 10px;
        }
        
        /* ==================== ç¬¬äºŒä¸ªè®¡ç®—å™¨ï¼šè®¢å•é‡é¢„ä¼°è®¡ç®—å™¨ ==================== */
        #calculator2 .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        #calculator2 .input-group {
            margin-bottom: 20px;
        }
        
        #calculator2 .input-group label {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
            font-size: 16px;
        }
        
        #calculator2 .input-group label i {
            margin-right: 8px;
            color: #2a5298;
        }
        
        #calculator2 .current-time {
            text-align: center;
            margin-bottom: 30px;
            padding: 15px;
            background: #f8f9ff;
            border-radius: 12px;
            border-left: 5px solid #2a5298;
        }
        
        #calculator2 .current-time h3 {
            color: #2a5298;
            margin-bottom: 10px;
            font-size: 20px;
        }
        
        #calculator2 #currentTime {
            font-size: 32px;
            font-weight: 700;
            color: #ff7e5f;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        
        #calculator2 input, #calculator2 select {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: #f8f9ff;
        }
        
        #calculator2 input:focus, #calculator2 select:focus {
            outline: none;
            border-color: #2a5298;
            box-shadow: 0 0 0 3px rgba(42, 82, 152, 0.1);
            background: white;
        }
        
        #calculator2 .button-group {
            display: flex;
            gap: 15px;
            margin: 30px 0;
        }
        
        #calculator2 button {
            flex: 1;
            padding: 18px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        #calculator2 button i {
            margin-right: 8px;
            font-size: 18px;
        }
        
        #calculator2 .calculate-btn {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
        }
        
        #calculator2 .calculate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(30, 60, 114, 0.3);
        }
        
        #calculator2 .reset-btn {
            background: #f8f9ff;
            color: #666;
            border: 2px solid #e0e0e0;
        }
        
        #calculator2 .reset-btn:hover {
            background: #f1f3f5;
        }
        
        #calculator2 .results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        #calculator2 .result-box {
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        #calculator2 .result-box:nth-child(1) {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        
        #calculator2 .result-box:nth-child(2) {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        
        #calculator2 .result-box:nth-child(3) {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }
        
        #calculator2 .result-box:nth-child(4) {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }
        
        #calculator2 .result-title {
            font-size: 16px;
            margin-bottom: 10px;
            font-weight: 600;
            opacity: 0.9;
        }
        
        #calculator2 .result-value {
            font-size: 32px;
            font-weight: 700;
            margin: 10px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        #calculator2 .result-detail {
            font-size: 14px;
            opacity: 0.9;
        }
        
        #calculator2 .time-remaining {
            background: #f8f9ff;
            padding: 15px;
            border-radius: 10px;
            margin-top: 25px;
            text-align: center;
            border-left: 5px solid #ff7e5f;
        }
        
        /* ==================== ç¬¬ä¸‰ä¸ªè®¡ç®—å™¨ï¼šè¥é”€ç›ˆåˆ©è®¡ç®—å™¨ ==================== */
        #calculator3 .formula-display {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 5px solid #4361ee;
        }
        
        #calculator3 .formula-display h3 {
            color: #4361ee;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        #calculator3 .formulas-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }
        
        #calculator3 .formula-box {
            flex: 1;
            min-width: 250px;
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }
        
        #calculator3 .formula-box h4 {
            color: #3a0ca3;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        #calculator3 .formula {
            font-size: 1.2rem;
            font-weight: bold;
            color: #333;
            text-align: center;
            padding: 10px;
            background-color: #f0f7ff;
            border-radius: 6px;
            margin: 10px 0;
        }
        
        #calculator3 .formula-desc {
            font-size: 0.9rem;
            color: #666;
        }
        
        #calculator3 .input-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        #calculator3 .input-box {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        #calculator3 .input-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }
        
        #calculator3 .input-box h3 {
            color: #3a0ca3;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.3rem;
        }
        
        #calculator3 .input-box i {
            color: #4361ee;
        }
        
        #calculator3 .input-field {
            margin-bottom: 20px;
        }
        
        #calculator3 .input-field label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }
        
        #calculator3 .input-wrapper {
            position: relative;
        }
        
        #calculator3 .input-wrapper input {
            width: 100%;
            padding: 14px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1.1rem;
            transition: border-color 0.3s ease;
        }
        
        #calculator3 .input-wrapper input:focus {
            border-color: #4361ee;
            outline: none;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }
        
        #calculator3 .unit {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #777;
        }
        
        #calculator3 .calc-hint {
            font-size: 0.85rem;
            color: #888;
            margin-top: 5px;
            font-style: italic;
        }
        
        #calculator3 .results-section {
            background-color: #f0f7ff;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 40px;
            border-top: 5px solid #4cc9f0;
        }
        
        #calculator3 .results-section h3 {
            color: #4361ee;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        #calculator3 .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        #calculator3 .result-item {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            text-align: center;
        }
        
        #calculator3 .result-label {
            font-size: 0.95rem;
            color: #6c757d;
            margin-bottom: 10px;
        }
        
        #calculator3 .result-value {
            font-size: 1.4rem;
            font-weight: bold;
            color: #3a0ca3;
        }
        
        #calculator3 .profit-analysis {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin-top: 30px;
        }
        
        #calculator3 .profit-analysis h3 {
            color: #7209b3;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        #calculator3 .profit-message {
            font-size: 1.1rem;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
        }
        
        #calculator3 .profit-positive {
            background-color: #d4edda;
            color: #155724;
            border-left: 5px solid #28a745;
        }
        
        #calculator3 .profit-negative {
            background-color: #f8d7da;
            color: #721c24;
            border-left: 5px solid #dc3545;
        }
        
        #calculator3 .profit-neutral {
            background-color: #fff3cd;
            color: #856404;
            border-left: 5px solid #ffc107;
        }
        
        #calculator3 .control-panel {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        #calculator3 .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        #calculator3 .btn-primary {
            background-color: #4361ee;
            color: white;
        }
        
        #calculator3 .btn-primary:hover {
            background-color: #3a0ca3;
            transform: translateY(-2px);
        }
        
        #calculator3 .btn-secondary {
            background-color: #6c757d;
            color: white;
        }
        
        #calculator3 .btn-secondary:hover {
            background-color: #5a6268;
            transform: translateY(-2px);
        }
        
        /* ==================== ç¬¬å››ä¸ªè®¡ç®—å™¨ï¼šä¸Šæ¸¸æ¿€æ´»ä»·å€¼è®¡ç®—å™¨ ==================== */
#calculator4 .controls {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 25px;
}

#calculator4 .btn {
    padding: 12px 20px;
    border: none;
    border-radius: 8px;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
}

#calculator4 .btn-primary {
    background-color: #4361ee;
    color: white;
}

#calculator4 .btn-primary:hover {
    background-color: #3a0ca3;
    transform: translateY(-2px);
}

#calculator4 .btn-success {
    background-color: #10b981;
    color: white;
}

#calculator4 .btn-success:hover {
    background-color: #0da271;
    transform: translateY(-2px);
}

#calculator4 .btn-secondary {
    background-color: #6c757d;
    color: white;
}

#calculator4 .btn-secondary:hover {
    background-color: #5a6268;
    transform: translateY(-2px);
}

#calculator4 .table-container {
    overflow-x: auto;
    margin-bottom: 30px;
}

#calculator4 table {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed;
}

/* è°ƒæ•´è¡¨æ ¼åˆ—å®½ */
#calculator4 th:nth-child(1), #calculator4 td:nth-child(1) {
    width: 25%; /* ä¸Šæ¸¸åç§° - åŠ å®½ */
}

#calculator4 th:nth-child(2), #calculator4 td:nth-child(2) {
    width: 12%; /* è®¢å•æ•° */
}

#calculator4 th:nth-child(3), #calculator4 td:nth-child(3) {
    width: 12%; /* æ¿€æ´»æ•° */
}

#calculator4 th:nth-child(4), #calculator4 td:nth-child(4) {
    width: 8%; /* ä½£é‡‘ - å˜çª„ */
    min-width: 80px;
}

#calculator4 th:nth-child(5), #calculator4 td:nth-child(5) {
    width: 12%; /* æ¿€æ´»å……å€¼ç‡ */
}

#calculator4 th:nth-child(6), #calculator4 td:nth-child(6) {
    width: 12%; /* æ¿€æ´»ä»·å€¼ */
}

#calculator4 th:nth-child(7), #calculator4 td:nth-child(7) {
    width: 15%; /* é¢„ä¼°æ”¶å…¥ */
}

#calculator4 th:nth-child(8), #calculator4 td:nth-child(8) {
    width: 4%; /* æ“ä½œåˆ— */
    min-width: 50px;
}

#calculator4 th {
    background-color: #f1f5f9;
    padding: 16px 8px;
    text-align: left;
    font-weight: 600;
    color: #374151;
    border-bottom: 2px solid #e5e7eb;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

#calculator4 td {
    padding: 14px 8px;
    border-bottom: 1px solid #e5e7eb;
    overflow: hidden;
    text-overflow: ellipsis;
}

#calculator4 tr:hover {
    background-color: #f9fafb;
}

#calculator4 input[type="text"], #calculator4 input[type="number"] {
    width: 100%;
    padding: 10px 8px;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    font-size: 14px;
    transition: border-color 0.2s;
    box-sizing: border-box;
}

#calculator4 input[type="text"]:focus, #calculator4 input[type="number"]:focus {
    outline: none;
    border-color: #4361ee;
    box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
}

/* ç‰¹åˆ«è°ƒæ•´ä¸Šæ¸¸åç§°è¾“å…¥æ¡† */
#calculator4 td:nth-child(1) input[type="text"] {
    padding: 10px 12px;
    font-size: 15px;
}

/* ç‰¹åˆ«è°ƒæ•´ä½£é‡‘è¾“å…¥æ¡† - æ›´çª„ */
#calculator4 td:nth-child(4) input[type="number"] {
    padding: 10px 5px;
    text-align: center;
    font-size: 14px;
    max-width: 80px;
    margin: 0 auto;
    display: block;
}

/* è°ƒæ•´è®¡ç®—å•å…ƒæ ¼æ ·å¼ */
#calculator4 .calc-cell {
    font-weight: 600;
    color: #1f2937;
    background-color: #f8fafc;
    text-align: center;
    padding: 14px 5px;
}

/* è°ƒæ•´é¢„ä¼°æ”¶å…¥å•å…ƒæ ¼ - æ•°å­—å¯èƒ½è¾ƒå¤§ */
#calculator4 td:nth-child(7).calc-cell {
    font-size: 15px;
    color: #10b981;
}

/* è°ƒæ•´æ¿€æ´»ä»·å€¼å•å…ƒæ ¼ */
#calculator4 td:nth-child(6).calc-cell {
    color: #4361ee;
}

#calculator4 .delete-btn {
    background: none;
    border: none;
    color: #ef4444;
    cursor: pointer;
    font-size: 18px;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s;
    margin: 0 auto;
}

#calculator4 .delete-btn:hover {
    background-color: #fee2e2;
}

/* æ•´ä½“ç»Ÿè®¡éƒ¨åˆ† - å·²ä¿®æ”¹ä¸º4ä¸ªæ¡†åœ¨åŒä¸€è¡Œ */
#calculator4 .summary {
    background-color: #f1f5f9;
    padding: 25px;
    border-radius: 10px;
    margin-top: 20px;
}

#calculator4 .summary h2 {
    font-size: 20px;
    margin-bottom: 25px;
    color: #1f2937;
    display: flex;
    align-items: center;
    gap: 10px;
}

#calculator4 .stats-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* å›ºå®š4åˆ—ï¼Œéƒ½åœ¨åŒä¸€è¡Œ */
    gap: 20px;
}

/* å“åº”å¼è®¾è®¡ï¼šåœ¨å°å±å¹•ä¸Šè‡ªåŠ¨æ¢è¡Œ */
@media (max-width: 1100px) {
    #calculator4 .stats-grid {
        grid-template-columns: repeat(2, 1fr); /* ä¸­ç­‰å±å¹•ï¼šæ¯è¡Œ2ä¸ª */
    }
}

@media (max-width: 600px) {
    #calculator4 .stats-grid {
        grid-template-columns: 1fr; /* å°å±å¹•ï¼šæ¯è¡Œ1ä¸ª */
    }
}

#calculator4 .stat-card {
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    min-height: 120px;
}

#calculator4 .stat-card h3 {
    font-size: 15px;
    color: #6b7280;
    margin-bottom: 10px;
    font-weight: 500;
    line-height: 1.4;
}

#calculator4 .stat-value {
    font-size: 28px;
    font-weight: 700;
    color: #1f2937;
    margin-bottom: 8px;
}

#calculator4 .stat-value.highlight {
    color: #10b981;
}

#calculator4 .stat-desc {
    font-size: 13px;
    color: #9ca3af;
    margin-top: 5px;
    line-height: 1.3;
}
        
        /* ==================== ç¬¬äº”ä¸ªè®¡ç®—å™¨ï¼šæ¿€æ´»åˆ©æ¶¦ä¸ç›ˆäºå¹³è¡¡è®¡ç®—å™¨ ==================== */
        #calculator5 .calculator {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 768px) {
            #calculator5 .calculator {
                grid-template-columns: 1fr;
            }
        }
        
        #calculator5 .input-section, #calculator5 .results-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        #calculator5 .section-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 25px;
            color: #1e293b;
            padding-bottom: 15px;
            border-bottom: 2px solid #e2e8f0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        #calculator5 .section-title i {
            color: #4361ee;
        }
        
        #calculator5 .input-group {
            margin-bottom: 22px;
        }
        
        #calculator5 label {
            display: block;
            font-weight: 500;
            margin-bottom: 8px;
            color: #475569;
            font-size: 15px;
        }
        
        #calculator5 input[type="number"] {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            color: #334155;
            transition: all 0.3s;
            background-color: #f8fafc;
        }
        
        #calculator5 input[type="number"]:focus {
            outline: none;
            border-color: #4361ee;
            background-color: white;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
        }
        
        #calculator5 .input-hint {
            font-size: 13px;
            color: #64748b;
            margin-top: 6px;
            font-style: italic;
        }
        
        #calculator5 .buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        #calculator5 .btn {
            padding: 14px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
            flex: 1;
        }
        
        #calculator5 .btn-primary {
            background-color: #4361ee;
            color: white;
        }
        
        #calculator5 .btn-primary:hover {
            background-color: #3a0ca3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(58, 12, 163, 0.2);
        }
        
        #calculator5 .btn-secondary {
            background-color: #e2e8f0;
            color: #475569;
        }
        
        #calculator5 .btn-secondary:hover {
            background-color: #cbd5e1;
            transform: translateY(-2px);
        }
        
        #calculator5 .results-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        #calculator5 .result-item {
            background-color: #f8fafc;
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid #4361ee;
        }
        
        #calculator5 .result-item.profit {
            border-left-color: #10b981;
        }
        
        #calculator5 .result-item.cost {
            border-left-color: #ef4444;
        }
        
        #calculator5 .result-item.warning {
            border-left-color: #f59e0b;
        }
        
        #calculator5 .result-title {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        #calculator5 .result-value {
            font-size: 28px;
            font-weight: 700;
            color: #1e293b;
        }
        
        #calculator5 .result-value.positive {
            color: #10b981;
        }
        
        #calculator5 .result-value.negative {
            color: #ef4444;
        }
        
        #calculator5 .result-value.neutral {
            color: #4361ee;
        }
        
        #calculator5 .result-desc {
            font-size: 13px;
            color: #94a3b8;
            margin-top: 5px;
        }
        
        #calculator5 .break-even-section {
            margin-top: 30px;
            padding: 25px;
            background-color: #fef3c7;
            border-radius: 12px;
            border: 1px solid #fde68a;
        }
        
        #calculator5 .break-even-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #92400e;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        #calculator5 .break-even-title i {
            color: #d97706;
        }
        
        #calculator5 .break-even-content {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        #calculator5 .break-even-item {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        #calculator5 .break-even-value {
            font-size: 24px;
            font-weight: 700;
            color: #92400e;
            margin: 10px 0;
        }
        
        #calculator5 .break-even-desc {
            font-size: 14px;
            color: #92400e;
        }
        
        #calculator5 .profit-warning {
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 14px;
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }
        
        #calculator5 .profit-warning.negative {
            background-color: #fee2e2;
            color: #991b1b;
        }
        
        #calculator5 .profit-warning.positive {
            background-color: #d1fae5;
            color: #065f46;
        }
        
        #calculator5 .profit-warning.warning {
            background-color: #fef3c7;
            color: #92400e;
        }
        
        #calculator5 .formula-section {
            margin-top: 30px;
            padding: 20px;
            background-color: #f1f5f9;
            border-radius: 8px;
            font-size: 14px;
        }
        
        #calculator5 .formula-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #475569;
        }
        
        #calculator5 .formula-item {
            margin-bottom: 8px;
            color: #64748b;
        }
        
        #calculator5 .formula {
            font-family: 'Courier New', monospace;
            background-color: #e2e8f0;
            padding: 2px 6px;
            border-radius: 4px;
            margin: 0 5px;
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-chart-line"></i>
                <span>æ¨å¹¿æ•°æ®åˆ†æå¹³å°</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#calculator1" class="nav-link active" data-target="calculator1">
                        <i class="fas fa-chart-line"></i> æ›å…‰é‡è®¡ç®—
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#calculator2" class="nav-link" data-target="calculator2">
                        <i class="fas fa-shopping-cart"></i> è®¢å•é‡é¢„ä¼°
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#calculator3" class="nav-link" data-target="calculator3">
                        <i class="fas fa-money-bill-wave"></i> è¥é”€ç›ˆåˆ©
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#calculator4" class="nav-link" data-target="calculator4">
                        <i class="fas fa-calculator"></i> ä¸Šæ¸¸æ¿€æ´»ä»·å€¼
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#calculator5" class="nav-link" data-target="calculator5">
                        <i class="fas fa-balance-scale"></i> ç›ˆäºå¹³è¡¡åˆ†æ
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- ä¸»è¦å†…å®¹åŒº -->
    <main class="main-content">
        <div class="page-header">
            <h1 id="pageTitle">ğŸ“Š æ›å…‰é‡è‡ªåŠ¨è®¡ç®—å™¨</h1>
            <p id="pageDescription">æ ¹æ®å·²ç”¨æ—¶é—´å’Œå½“å‰æ›å…‰é‡ï¼Œè‡ªåŠ¨è®¡ç®—é¢„è®¡ä¸€å°æ—¶çš„æ›å…‰é‡</p>
        </div>

        <!-- è®¡ç®—å™¨1ï¼šæ›å…‰é‡è®¡ç®—å™¨ -->
        <section id="calculator1" class="calculator-container active">
            <div class="calculator-card">
                <div class="calculator-header">
                    <i class="fas fa-chart-line"></i>
                    <h2>æ›å…‰é‡è‡ªåŠ¨è®¡ç®—å™¨</h2>
                </div>
                
                <div class="input-group">
                    <label for="time">å·²ç”¨æ—¶é—´ (åˆ†é’Ÿ)</label>
                    <div class="input-with-unit">
                        <input type="number" id="time" placeholder="è¾“å…¥å·²è¿‡å»çš„æ—¶é—´ï¼Œå¦‚ 35" min="1" max="60" step="1">
                        <span class="unit">åˆ†é’Ÿ</span>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="exposure">å½“å‰æ›å…‰é‡</label>
                    <div class="input-with-unit">
                        <input type="number" id="exposure" placeholder="è¾“å…¥å½“å‰æ›å…‰é‡ï¼Œå¦‚ 2300" min="1" step="1">
                        <span class="unit">æ¬¡</span>
                    </div>
                </div>
                
                <div class="button-group">
                    <button class="calculate-btn" onclick="calculateExposure()">
                        ğŸš€ è®¡ç®—é¢„è®¡æ›å…‰é‡
                    </button>
                    <button class="reset-btn" onclick="resetExposureCalculator()">
                        ğŸ”„ é‡ç½®
                    </button>
                </div>
                
                <div class="result" id="result1">
                    <h3>é¢„è®¡ä¸€å°æ—¶æ€»æ›å…‰é‡</h3>
                    <div class="result-value" id="estimatedExposure">0</div>
                    <div class="result-detail">
                        åŸºäºå½“å‰æ•°æ®æ¨ç®—ï¼šæ¯åˆ†é’Ÿçº¦ <span id="perMinute">0</span> æ¬¡æ›å…‰
                    </div>
                </div>
                
                <div class="instructions">
                    <h4><i class="fas fa-info-circle"></i> ä½¿ç”¨è¯´æ˜</h4>
                    <p>1. è¾“å…¥å½“å‰å·²ç»è¿‡å»çš„æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰</p>
                    <p>2. è¾“å…¥å½“å‰ç´¯è®¡çš„æ›å…‰é‡æ•°å€¼</p>
                    <p>3. ç‚¹å‡»è®¡ç®—æŒ‰é’®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ¨ç®—å‡ºä¸€å°æ—¶çš„æ€»æ›å…‰é‡</p>
                    <p>4. è®¡ç®—åŸç†ï¼šåŸºäºå½“å‰æ›å…‰é€Ÿç‡ï¼ŒæŒ‰æ¯”ä¾‹æ¨ç®—60åˆ†é’Ÿçš„æ€»é‡</p>
                </div>
            </div>
        </section>

        <!-- è®¡ç®—å™¨2ï¼šè®¢å•é‡é¢„ä¼°è®¡ç®—å™¨ï¼ˆå¢å¼ºç‰ˆï¼‰ -->
        <section id="calculator2" class="calculator-container">
            <div class="calculator-card">
                <div class="calculator-header">
                    <i class="fas fa-shopping-cart"></i>
                    <h2>å½“æ—¥è®¢å•é‡é¢„ä¼°è®¡ç®—å™¨</h2>
                </div>
                
                <div class="current-time">
                    <h3><i class="far fa-clock"></i> å½“å‰æ—¶é—´</h3>
                    <div id="currentTime">00:00:00</div>
                </div>
                
                <div class="input-grid">
                    <div class="input-group">
                        <label for="currentHour"><i class="fas fa-clock"></i> å½“å‰æ—¶é—´ï¼ˆæ•´ç‚¹ï¼‰</label>
                        <div class="input-with-unit">
                            <input type="number" id="currentHour" placeholder="è¾“å…¥å½“å‰æ—¶é—´ï¼Œå¦‚ 17" min="0" max="23" step="1">
                            <span class="unit">æ—¶</span>
                        </div>
                        <small style="color: #666; font-size: 14px; margin-top: 5px; display: block;">è¾“å…¥0-23ä¹‹é—´çš„æ•´æ•°</small>
                    </div>
                    
                    <div class="input-group">
                        <label for="currentOrders"><i class="fas fa-shopping-cart"></i> å½“å‰è®¢å•æ€»æ•°</label>
                        <div class="input-with-unit">
                            <input type="number" id="currentOrders" placeholder="è¾“å…¥å½“å‰è®¢å•æ€»æ•°ï¼Œå¦‚ 130" min="0" step="1">
                            <span class="unit">å•</span>
                        </div>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="hourlyOrders"><i class="fas fa-tachometer-alt"></i> æ¯å°æ—¶è®¢å•æ•°</label>
                    <div class="input-with-unit">
                        <input type="number" id="hourlyOrders" placeholder="è¾“å…¥æ¯å°æ—¶è®¢å•æ•°ï¼Œå¦‚ 20" min="0" step="1">
                        <span class="unit">å•/å°æ—¶</span>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="costPerOrder"><i class="fas fa-money-bill-wave"></i> æ¯å•æ¨å¹¿æˆæœ¬</label>
                    <div class="input-with-unit">
                        <input type="number" id="costPerOrder" placeholder="æ¯å•æ¨å¹¿æˆæœ¬ï¼Œé»˜è®¤ä¸º 19.55" min="0" step="0.01" value="19.55">
                        <span class="unit">å…ƒ</span>
                    </div>
                    <small style="color: #666; font-size: 14px; margin-top: 5px; display: block;">ç³»ç»Ÿé»˜è®¤æ¯å•æ¨å¹¿æˆæœ¬ä¸º19.55å…ƒï¼Œå¯ä¿®æ”¹</small>
                </div>
                
                <div class="button-group">
                    <button class="calculate-btn" onclick="calculateOrders()">
                        <i class="fas fa-calculator"></i> è®¡ç®—å½“æ—¥é¢„ä¼°
                    </button>
                    <button class="reset-btn" onclick="resetOrdersCalculator()">
                        <i class="fas fa-redo"></i> é‡ç½®
                    </button>
                </div>
                
                <div class="results" id="results2">
                    <div class="result-box">
                        <div class="result-title">ä»Šæ—¥å‰©ä½™å°æ—¶æ•°</div>
                        <div class="result-value" id="remainingHours">0</div>
                        <div class="result-detail">ä»å½“å‰åˆ°24ç‚¹</div>
                    </div>
                    
                    <div class="result-box">
                        <div class="result-title">å‰©ä½™é¢„è®¡è®¢å•</div>
                        <div class="result-value" id="remainingOrders">0</div>
                        <div class="result-detail">å•</div>
                    </div>
                    
                    <div class="result-box">
                        <div class="result-title">ä»Šæ—¥æ€»é¢„è®¡è®¢å•</div>
                        <div class="result-value" id="totalOrders">0</div>
                        <div class="result-detail">å•</div>
                    </div>
                    
                    <div class="result-box">
                        <div class="result-title">é¢„ä¼°æ¶ˆè€—æ¨å¹¿è´¹</div>
                        <div class="result-value" id="estimatedCost">0</div>
                        <div class="result-detail">å…ƒ</div>
                    </div>
                </div>
                
                <div class="time-remaining" id="timeRemaining">
                    <p>è®¡ç®—è¯´æ˜ï¼šå‰©ä½™ <span id="hoursRemaining">0</span> å°æ—¶ Ã— æ¯å°æ—¶ <span id="hourlyRate">0</span> å• = <span id="remainingResult">0</span> å•ï¼ˆå‰©ä½™è®¢å•ï¼‰<br>
                    <span id="currentTotal">0</span> å•ï¼ˆå½“å‰è®¢å•ï¼‰ + <span id="remainingResult2">0</span> å•ï¼ˆå‰©ä½™è®¢å•ï¼‰ = <span id="finalTotal">0</span> å•ï¼ˆä»Šæ—¥æ€»é¢„è®¡ï¼‰<br>
                    <span id="finalTotal2">0</span> å•ï¼ˆä»Šæ—¥æ€»é¢„è®¡ï¼‰ Ã— <span id="costPerOrderValue">19.55</span> å…ƒ/å• = <span id="finalCost">0</span> å…ƒï¼ˆé¢„ä¼°æ¶ˆè€—æ¨å¹¿è´¹ï¼‰</p>
                </div>
                
                <div class="instructions">
                    <h4><i class="fas fa-info-circle"></i> ä½¿ç”¨è¯´æ˜</h4>
                    <p>1. è¾“å…¥å½“å‰æ—¶é—´ï¼ˆ0-23ç‚¹ï¼Œå¦‚17è¡¨ç¤º17ç‚¹ï¼‰</p>
                    <p>2. è¾“å…¥å½“å‰ç´¯è®¡è®¢å•æ€»æ•°ï¼ˆå¦‚130å•ï¼‰</p>
                    <p>3. è¾“å…¥æ¯å°æ—¶è®¢å•æ•°ï¼ˆå¦‚20å•/å°æ—¶ï¼‰</p>
                    <p>4. è¾“å…¥æ¯å•æ¨å¹¿æˆæœ¬ï¼ˆé»˜è®¤ä¸º19.55å…ƒï¼‰</p>
                    <p>5. ç‚¹å‡»"è®¡ç®—å½“æ—¥é¢„ä¼°"æŒ‰é’®ï¼Œè‡ªåŠ¨è®¡ç®—ä»Šæ—¥å‰©ä½™è®¢å•ã€æ€»è®¢å•é‡å’Œé¢„ä¼°æ¨å¹¿è´¹ç”¨</p>
                    <p>6. è®¡ç®—å…¬å¼ï¼šå‰©ä½™å°æ—¶æ•° Ã— æ¯å°æ—¶è®¢å•æ•° = å‰©ä½™è®¢å•ï¼›å½“å‰è®¢å• + å‰©ä½™è®¢å• = ä»Šæ—¥æ€»é¢„è®¡è®¢å•ï¼›æ€»é¢„è®¡è®¢å• Ã— æ¯å•æ¨å¹¿æˆæœ¬ = é¢„ä¼°æ¶ˆè€—æ¨å¹¿è´¹</p>
                </div>
            </div>
        </section>

        <!-- è®¡ç®—å™¨3ï¼šè¥é”€ç›ˆåˆ©è®¡ç®—å™¨ -->
        <section id="calculator3" class="calculator-container">
            <div class="calculator-card">
                <div class="calculator-header">
                    <i class="fas fa-money-bill-wave"></i>
                    <h2>è¥é”€ç›ˆåˆ©è®¡ç®—å™¨</h2>
                </div>
                
                <div class="formula-display">
                    <h3><i class="fas fa-square-root-alt"></i> æ ¸å¿ƒè®¡ç®—å…¬å¼</h3>
                    <div class="formulas-container">
                        <div class="formula-box">
                            <h4>æ¿€æ´»æˆæœ¬è®¡ç®—</h4>
                            <div class="formula">æ¿€æ´»æˆæœ¬ = è¡¨å•æˆæœ¬ Ã· æ¿€æ´»ç‡</div>
                            <div class="formula-desc">è·å¾—ä¸€ä¸ªæ¿€æ´»å®¢æˆ·æ‰€éœ€çš„å¹³å‡æˆæœ¬</div>
                        </div>
                        <div class="formula-box">
                            <h4>æ¿€æ´»åˆ©æ¶¦è®¡ç®—</h4>
                            <div class="formula">æ¿€æ´»åˆ©æ¶¦ = æ¿€æ´»ä»·å€¼ - æ¿€æ´»æˆæœ¬</div>
                            <div class="formula-desc">æ¯ä¸ªæ¿€æ´»å®¢æˆ·å¸¦æ¥çš„å‡€åˆ©æ¶¦</div>
                        </div>
                        <div class="formula-box">
                            <h4>ç›ˆäºå¹³è¡¡è®¡ç®—</h4>
                            <div class="formula">ç›ˆäºå¹³è¡¡æ¿€æ´»ç‡ = è¡¨å•æˆæœ¬ Ã· æ¿€æ´»ä»·å€¼</div>
                            <div class="formula-desc">è¾¾åˆ°ç›ˆäºå¹³è¡¡æ‰€éœ€çš„æœ€å°æ¿€æ´»ç‡</div>
                        </div>
                    </div>
                </div>
                
                <div class="control-panel">
                    <button class="btn btn-primary" id="calculateBtn3">
                        <i class="fas fa-calculator"></i> è‡ªåŠ¨è®¡ç®—ç¼ºå¤±å€¼
                    </button>
                    <button class="btn btn-secondary" id="clearBtn3">
                        <i class="fas fa-broom"></i> æ¸…é™¤æ‰€æœ‰è¾“å…¥
                    </button>
                    <button class="btn btn-secondary" id="exampleBtn3">
                        <i class="fas fa-lightbulb"></i> åŠ è½½ç¤ºä¾‹
                    </button>
                </div>
                
                <div class="input-section">
                    <div class="input-box">
                        <h3><i class="fas fa-gem"></i> æ¿€æ´»ä»·å€¼</h3>
                        <div class="input-field">
                            <label for="activationValue3">æ¯ä¸ªæ¿€æ´»å¸¦æ¥çš„åˆ©æ¶¦ (å…ƒ)</label>
                            <div class="input-wrapper">
                                <input type="number" id="activationValue3" placeholder="ä¾‹å¦‚: 94" min="0" step="0.01">
                                <span class="unit">å…ƒ</span>
                            </div>
                            <div class="calc-hint">æ¿€æ´»ä¸€ä¸ªå®¢æˆ·å¸¦æ¥çš„å‡€åˆ©æ¶¦ï¼ˆæ”¶å…¥-æˆæœ¬ï¼‰</div>
                        </div>
                    </div>
                    
                    <div class="input-box">
                        <h3><i class="fas fa-percentage"></i> æ¿€æ´»ç‡</h3>
                        <div class="input-field">
                            <label for="activationRate3">æ¿€æ´»ç‡ (%)</label>
                            <div class="input-wrapper">
                                <input type="number" id="activationRate3" placeholder="ä¾‹å¦‚: 30" min="0" max="100" step="0.01">
                                <span class="unit">%</span>
                            </div>
                            <div class="calc-hint">è¡¨å•è½¬åŒ–ä¸ºæ¿€æ´»å®¢æˆ·çš„ç™¾åˆ†æ¯”</div>
                        </div>
                    </div>
                    
                    <div class="input-box">
                        <h3><i class="fas fa-money-bill-wave"></i> è¡¨å•æˆæœ¬</h3>
                        <div class="input-field">
                            <label for="formCost3">æ¯ä¸ªè¡¨å•çš„æˆæœ¬ (å…ƒ)</label>
                            <div class="input-wrapper">
                                <input type="number" id="formCost3" placeholder="ä¾‹å¦‚: 23" min="0" step="0.01">
                                <span class="unit">å…ƒ</span>
                            </div>
                            <div class="calc-hint">è·å¾—ä¸€ä¸ªæ½œåœ¨å®¢æˆ·ï¼ˆè¡¨å•ï¼‰çš„å¹³å‡æˆæœ¬</div>
                        </div>
                    </div>
                </div>
                
                <div class="results-section">
                    <h3><i class="fas fa-chart-bar"></i> è®¡ç®—ç»“æœ</h3>
                    <div class="results-grid">
                        <div class="result-item">
                            <div class="result-label">æ¿€æ´»æˆæœ¬</div>
                            <div class="result-value" id="activationCostResult3">-- å…ƒ</div>
                        </div>
                        <div class="result-item">
                            <div class="result-label">æ¯ä¸ªæ¿€æ´»çš„åˆ©æ¶¦</div>
                            <div class="result-value" id="activationProfitResult3">-- å…ƒ</div>
                        </div>
                        <div class="result-item">
                            <div class="result-label">ç›ˆäºå¹³è¡¡æ¿€æ´»ç‡</div>
                            <div class="result-value" id="breakEvenRateResult3">-- %</div>
                        </div>
                        <div class="result-item">
                            <div class="result-label">åˆ©æ¶¦çŠ¶æ€</div>
                            <div class="result-value" id="profitStatusResult3">--</div>
                        </div>
                    </div>
                    
                    <div class="profit-analysis">
                        <h3><i class="fas fa-chart-line"></i> ç›ˆåˆ©åˆ†æ</h3>
                        <div class="profit-message" id="profitMessage3">
                            è¯·è¾“å…¥è‡³å°‘ä¸¤ä¸ªå€¼ï¼Œç„¶åç‚¹å‡»"è‡ªåŠ¨è®¡ç®—ç¼ºå¤±å€¼"æŒ‰é’®
                        </div>
                    </div>
                </div>
                
                <div class="instructions">
                    <h4><i class="fas fa-info-circle"></i> ä½¿ç”¨è¯´æ˜</h4>
                    <p>1. è¾“å…¥ä»»æ„ä¸¤ä¸ªå·²çŸ¥å€¼ï¼ˆæ¿€æ´»ä»·å€¼ã€æ¿€æ´»ç‡ã€è¡¨å•æˆæœ¬ï¼‰</p>
                    <p>2. ç‚¹å‡»"è‡ªåŠ¨è®¡ç®—ç¼ºå¤±å€¼"æŒ‰é’®ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨è®¡ç®—ç¬¬ä¸‰ä¸ªå€¼</p>
                    <p>3. ç‚¹å‡»"åŠ è½½ç¤ºä¾‹"æŸ¥çœ‹ç¤ºä¾‹è®¡ç®—è¿‡ç¨‹</p>
                    <p>4. åˆ†æç›ˆåˆ©æƒ…å†µï¼Œä¼˜åŒ–è¥é”€ç­–ç•¥</p>
                </div>
            </div>
        </section>

        <!-- è®¡ç®—å™¨4ï¼šä¸Šæ¸¸æ¿€æ´»ä»·å€¼è®¡ç®—å™¨ -->
        <section id="calculator4" class="calculator-container">
            <div class="calculator-card">
                <div class="calculator-header">
                    <i class="fas fa-calculator"></i>
                    <h2>ä¸Šæ¸¸æ¿€æ´»ä»·å€¼è®¡ç®—å™¨</h2>
                </div>
                
                <div class="controls">
                    <button class="btn btn-primary" id="addRowBtn">
                        <i class="fas fa-plus"></i> æ·»åŠ ä¸Šæ¸¸
                    </button>
                    <button class="btn btn-success" id="calculateBtn4">
                        <i class="fas fa-calculator"></i> é‡æ–°è®¡ç®—
                    </button>
                    <button class="btn btn-secondary" id="resetBtn4">
                        <i class="fas fa-redo"></i> é‡ç½®æ•°æ®
                    </button>
                    <button class="btn btn-secondary" id="loadExampleBtn4">
                        <i class="fas fa-file-alt"></i> åŠ è½½ç¤ºä¾‹æ•°æ®
                    </button>
                </div>
                
                <div class="table-container">
                    <table id="upstreamTable">
                        <thead>
                            <tr>
                                <th>ä¸Šæ¸¸åç§°</th>
                                <th>è®¢å•æ•°</th>
                                <th>æ¿€æ´»æ•°</th>
                                <th>ä½£é‡‘</th>
                                <th>æ¿€æ´»å……å€¼ç‡(%)</th>
                                <th>æ¿€æ´»ä»·å€¼</th>
                                <th>é¢„ä¼°æ”¶å…¥</th>
                                <th>åˆ é™¤</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <tr class="empty-row">
                                <td colspan="8">æš‚æ— æ•°æ®ï¼Œè¯·ç‚¹å‡»"æ·»åŠ ä¸Šæ¸¸"æŒ‰é’®æ·»åŠ æ•°æ®</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="summary">
                    <h2><i class="fas fa-chart-bar"></i> æ•´ä½“ç»Ÿè®¡</h2>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>æ€»è®¢å•æ•°</h3>
                            <div class="stat-value" id="totalOrders4">0</div>
                            <div class="stat-desc">æ‰€æœ‰ä¸Šæ¸¸è®¢å•æ•°æ€»å’Œ</div>
                        </div>
                        <div class="stat-card">
                            <h3>æ€»æ¿€æ´»æ•°</h3>
                            <div class="stat-value" id="totalActivations4">0</div>
                            <div class="stat-desc">æ‰€æœ‰ä¸Šæ¸¸æ¿€æ´»æ•°æ€»å’Œ</div>
                        </div>
                        <div class="stat-card">
                            <h3>æ€»é¢„ä¼°æ”¶å…¥</h3>
                            <div class="stat-value" id="totalIncome4">0</div>
                            <div class="stat-desc">æ‰€æœ‰ä¸Šæ¸¸é¢„ä¼°æ”¶å…¥æ€»å’Œ</div>
                        </div>
                        <div class="stat-card">
                            <h3>æ•´ä½“å¹³å‡æ¿€æ´»ä»·å€¼</h3>
                            <div class="stat-value highlight" id="avgActivationValue4">0</div>
                            <div class="stat-desc">æ€»é¢„ä¼°æ”¶å…¥ Ã· æ€»æ¿€æ´»æ•°</div>
                        </div>
                    </div>
                </div>
                
                <div class="instructions">
                    <h4><i class="fas fa-info-circle"></i> ä½¿ç”¨è¯´æ˜</h4>
                    <p>1. ç‚¹å‡»"æ·»åŠ ä¸Šæ¸¸"æŒ‰é’®æ·»åŠ æ–°çš„ä¸Šæ¸¸æ•°æ®è¡Œ</p>
                    <p>2. è¾“å…¥ä¸Šæ¸¸åç§°ã€è®¢å•æ•°ã€æ¿€æ´»æ•°ã€ä½£é‡‘å’Œæ¿€æ´»å……å€¼ç‡</p>
                    <p>3. æ¿€æ´»ä»·å€¼å’Œé¢„ä¼°æ”¶å…¥ä¼šè‡ªåŠ¨è®¡ç®—</p>
                    <p>4. ç‚¹å‡»"åŠ è½½ç¤ºä¾‹æ•°æ®"æŸ¥çœ‹ç¤ºä¾‹ï¼Œæˆ–ç‚¹å‡»"é‡ç½®æ•°æ®"æ¸…ç©ºè¡¨æ ¼</p>
                    <p>5. åº•éƒ¨ç»Ÿè®¡åŒºåŸŸä¼šå®æ—¶æ˜¾ç¤ºæ•´ä½“æ•°æ®</p>
                </div>
            </div>
        </section>

        <!-- è®¡ç®—å™¨5ï¼šæ¿€æ´»åˆ©æ¶¦ä¸ç›ˆäºå¹³è¡¡è®¡ç®—å™¨ -->
        <section id="calculator5" class="calculator-container">
            <div class="calculator-card">
                <div class="calculator-header">
                    <i class="fas fa-balance-scale"></i>
                    <h2>æ¿€æ´»åˆ©æ¶¦ä¸ç›ˆäºå¹³è¡¡è®¡ç®—å™¨</h2>
                </div>
                
                <div class="calculator">
                    <div class="input-section">
                        <h2 class="section-title"><i class="fas fa-edit"></i> è¾“å…¥æ•°æ®</h2>
                        
                        <div class="input-group">
                            <label for="totalOrders5"><i class="fas fa-shopping-cart"></i> æ€»è®¢å•æ•°</label>
                            <input type="number" id="totalOrders5" placeholder="è¾“å…¥æ€»è®¢å•æ•°" value="1930" min="0" step="1">
                            <div class="input-hint">æ‰€æœ‰è®¢å•çš„æ€»æ•°é‡ï¼ŒåŒ…æ‹¬æœªæ¿€æ´»çš„è®¢å•</div>
                        </div>
                        
                        <div class="input-group">
                            <label for="totalActivations5"><i class="fas fa-user-check"></i> æ¿€æ´»æ•°</label>
                            <input type="number" id="totalActivations5" placeholder="è¾“å…¥æ¿€æ´»æ•°" value="390" min="0" step="1">
                            <div class="input-hint">å·²æ¿€æ´»çš„ç”¨æˆ·æ•°é‡</div>
                        </div>
                        
                        <div class="input-group">
                            <label for="totalCost5"><i class="fas fa-money-bill-wave"></i> æ€»æ¶ˆè€—é‡‘é¢ (å…ƒ)</label>
                            <input type="number" id="totalCost5" placeholder="è¾“å…¥æ€»æ¶ˆè€—é‡‘é¢" value="32462.37" min="0" step="0.01">
                            <div class="input-hint">æ¨å¹¿ã€è¡¥å•ç­‰æ‰€æœ‰æˆæœ¬çš„æ€»å’Œ</div>
                        </div>
                        
                        <div class="input-group">
                            <label for="activationValue5"><i class="fas fa-gem"></i> æ¿€æ´»ä»·å€¼ (å…ƒ/æ¿€æ´»)</label>
                            <input type="number" id="activationValue5" placeholder="è¾“å…¥æ¯ä¸ªæ¿€æ´»çš„ä»·å€¼" value="90" min="0" step="0.01">
                            <div class="input-hint">æ¯ä¸ªæ¿€æ´»ç”¨æˆ·å¸¦æ¥çš„å¹³å‡æ”¶å…¥</div>
                        </div>
                        
                        <div class="buttons">
                            <button class="btn btn-primary" id="calculateBtn5">
                                <i class="fas fa-calculator"></i> è®¡ç®—æ‰€æœ‰æŒ‡æ ‡
                            </button>
                            <button class="btn btn-secondary" id="resetBtn5">
                                <i class="fas fa-redo"></i> é‡ç½®
                            </button>
                        </div>
                    </div>
                    
                    <div class="results-section">
                        <h2 class="section-title"><i class="fas fa-chart-bar"></i> è®¡ç®—ç»“æœ</h2>
                        
                        <div class="results-grid">
                            <div class="result-item">
                                <div class="result-title">æ¿€æ´»ç‡</div>
                                <div class="result-value neutral" id="activationRate5">20.21%</div>
                                <div class="result-desc">æ¿€æ´»æ•° Ã· æ€»è®¢å•æ•°</div>
                            </div>
                            
                            <div class="result-item cost">
                                <div class="result-title">æ¯å•æˆæœ¬</div>
                                <div class="result-value" id="costPerOrder5">16.82</div>
                                <div class="result-desc">æ€»æ¶ˆè€—é‡‘é¢ Ã· æ€»è®¢å•æ•°</div>
                            </div>
                            
                            <div class="result-item profit">
                                <div class="result-title">æ€»åˆ©æ¶¦</div>
                                <div class="result-value positive" id="totalProfit5">2637.63</div>
                                <div class="result-desc">(æ¿€æ´»æ•° Ã— æ¿€æ´»ä»·å€¼) - æ€»æ¶ˆè€—é‡‘é¢</div>
                            </div>
                            
                            <div class="result-item">
                                <div class="result-title">æ¯å•åˆ©æ¶¦</div>
                                <div class="result-value positive" id="profitPerOrder5">1.37</div>
                                <div class="result-desc">æ€»åˆ©æ¶¦ Ã· æ€»è®¢å•æ•°</div>
                            </div>
                            
                            <div class="result-item cost">
                                <div class="result-title">æ¿€æ´»æˆæœ¬</div>
                                <div class="result-value" id="activationCost5">83.24</div>
                                <div class="result-desc">æ€»æ¶ˆè€—é‡‘é¢ Ã· æ¿€æ´»æ•°</div>
                            </div>
                            
                            <div class="result-item warning">
                                <div class="result-title">åˆ©æ¶¦æ¯”</div>
                                <div class="result-value" id="profitRatio5">8.13%</div>
                                <div class="result-desc">æ€»åˆ©æ¶¦ Ã· æ€»æ¶ˆè€—é‡‘é¢</div>
                            </div>
                        </div>
                        
                        <div id="profitWarning5" class="profit-warning positive">
                            <i class="fas fa-check-circle"></i>
                            <div>å½“å‰å¤„äºç›ˆåˆ©çŠ¶æ€ï¼æ€»åˆ©æ¶¦ä¸º <strong>2637.63å…ƒ</strong>ï¼Œåˆ©æ¶¦æ¯”ä¸º <strong>8.13%</strong>ã€‚</div>
                        </div>
    
                    </div>
                </div>
                
                <div class="break-even-section">
                    <h2 class="break-even-title"><i class="fas fa-balance-scale"></i> ç›ˆäºå¹³è¡¡åˆ†æ</h2>
                    <div class="break-even-content">
                        <div class="break-even-item">
                            <div class="result-title">ç›ˆäºå¹³è¡¡æ¿€æ´»ç‡</div>
                            <div class="break-even-value" id="breakEvenRate5">18.69%</div>
                            <div class="break-even-desc">æ¯å•æˆæœ¬ Ã· æ¿€æ´»ä»·å€¼ Ã— 100%</div>
                            <div class="profit-warning warning">
                                <i class="fas fa-exclamation-circle"></i>
                                <div>å½“æ¿€æ´»ç‡è¾¾åˆ° <strong id="breakEvenRateText5">18.69%</strong> æ—¶å³å¯å®ç°ç›ˆäºå¹³è¡¡</div>
                            </div>
                        </div>
                        
                        <div class="break-even-item">
                            <div class="result-title">ç›ˆäºå¹³è¡¡æ¯å•æˆæœ¬</div>
                            <div class="break-even-value" id="breakEvenCost5">18.19</div>
                            <div class="break-even-desc">æ¿€æ´»ç‡ Ã— æ¿€æ´»ä»·å€¼</div>
                            <div class="profit-warning warning">
                                <i class="fas fa-exclamation-circle"></i>
                                <div>æ¯å•æˆæœ¬éœ€ä½äº <strong id="breakEvenCostText5">18.19å…ƒ</strong> æ‰èƒ½å®ç°ç›ˆåˆ©</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="profit-warning warning" style="margin-top: 20px;">
                        <i class="fas fa-lightbulb"></i>
                        <div>
                            <strong>ç›ˆåˆ©æ¡ä»¶æç¤ºï¼š</strong> 
                            è¦å®ç°ç›ˆåˆ©ï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹ä»»ä¸€æ¡ä»¶ï¼š
                            1) æ¿€æ´»ç‡ â‰¥ <span id="breakEvenRateCondition5">18.69%</span>ï¼Œæˆ–
                            2) æ¯å•æˆæœ¬ â‰¤ <span id="breakEvenCostCondition5">18.19å…ƒ</span>
                        </div>
                    </div>
                </div>
                
                <div class="instructions">
                    <h4><i class="fas fa-info-circle"></i> ä½¿ç”¨è¯´æ˜</h4>
                    <p>1. è¾“å…¥æ€»è®¢å•æ•°ã€æ¿€æ´»æ•°ã€æ€»æ¶ˆè€—é‡‘é¢å’Œæ¿€æ´»ä»·å€¼</p>
                    <p>2. ç‚¹å‡»"è®¡ç®—æ‰€æœ‰æŒ‡æ ‡"æŒ‰é’®æˆ–è¾“å…¥æ—¶è‡ªåŠ¨è®¡ç®—</p>
                    <p>3. æŸ¥çœ‹æ¿€æ´»ç‡ã€æ¯å•æˆæœ¬ã€æ€»åˆ©æ¶¦ã€æ¯å•åˆ©æ¶¦å’Œæ¿€æ´»æˆæœ¬ç­‰å…³é”®æŒ‡æ ‡</p>
                    <p>4. åˆ†æç›ˆäºå¹³è¡¡ç‚¹ï¼Œäº†è§£å®ç°ç›ˆåˆ©æ‰€éœ€çš„æ¡ä»¶</p>
                    <p>5. å¯æ ¹æ®ç›ˆäºå¹³è¡¡åˆ†æç»“æœè°ƒæ•´è¥é”€ç­–ç•¥</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <p>Â© 2026 æ¨å¹¿æ•°æ®åˆ†æå¹³å° | è®¾è®¡ç”¨äºæ•°æ®åˆ†æã€ä¸šåŠ¡é¢„ä¼°å’Œè¥é”€ç›ˆåˆ©è®¡ç®—</p>
            <p style="margin-top: 10px; font-size: 14px;">åŒ…å«æ›å…‰é‡è®¡ç®—ã€è®¢å•é‡é¢„ä¼°ã€è¥é”€ç›ˆåˆ©åˆ†æã€ä¸Šæ¸¸æ¿€æ´»ä»·å€¼å’Œç›ˆäºå¹³è¡¡åˆ†æäº”å¤§åŠŸèƒ½</p>
        </div>
    </footer>

    <script>
        // å¯¼èˆªåˆ‡æ¢åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-link');
            const calculators = document.querySelectorAll('.calculator-container');
            const pageTitle = document.getElementById('pageTitle');
            const pageDescription = document.getElementById('pageDescription');
            
            // é¡µé¢æ ‡é¢˜å’Œæè¿°æ˜ å°„
            const pageData = {
                calculator1: {
                    title: "ğŸ“Š æ›å…‰é‡è‡ªåŠ¨è®¡ç®—å™¨",
                    description: "æ ¹æ®å·²ç”¨æ—¶é—´å’Œå½“å‰æ›å…‰é‡ï¼Œè‡ªåŠ¨è®¡ç®—é¢„è®¡ä¸€å°æ—¶çš„æ›å…‰é‡"
                },
                calculator2: {
                    title: "ğŸ›’ å½“æ—¥è®¢å•é‡é¢„ä¼°è®¡ç®—å™¨",
                    description: "åŸºäºå½“å‰æ—¶é—´ã€è®¢å•æ€»æ•°å’Œæ¯å°æ—¶è®¢å•æ•°ï¼Œé¢„ä¼°å½“æ—¥æ€»è®¢å•é‡å’Œæ¨å¹¿è´¹ç”¨"
                },
                calculator3: {
                    title: "ğŸ’° è¥é”€ç›ˆåˆ©è®¡ç®—å™¨",
                    description: "è®¡ç®—æ¯ä¸ªæ¿€æ´»çš„ç›ˆåˆ©æƒ…å†µï¼Œåˆ†æè¥é”€æ´»åŠ¨çš„ç›ˆåˆ©çŠ¶å†µ"
                },
                calculator4: {
                    title: "ğŸ“ˆ ä¸Šæ¸¸æ¿€æ´»ä»·å€¼è®¡ç®—å™¨",
                    description: "è¾“å…¥ä¸Šæ¸¸è®¢å•æ•°æ®ï¼Œè‡ªåŠ¨è®¡ç®—æ¿€æ´»ä»·å€¼å’Œé¢„ä¼°æ€»æ”¶å…¥"
                },
                calculator5: {
                    title: "âš–ï¸ æ¿€æ´»åˆ©æ¶¦ä¸ç›ˆäºå¹³è¡¡è®¡ç®—å™¨",
                    description: "è®¡ç®—æ¿€æ´»ç›¸å…³å…³é”®æŒ‡æ ‡ï¼Œåˆ†æç›ˆäºå¹³è¡¡ç‚¹å’Œç›ˆåˆ©çŠ¶å†µ"
                }
            };
            
            // æ·»åŠ å¯¼èˆªç‚¹å‡»äº‹ä»¶
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // è·å–ç›®æ ‡è®¡ç®—å™¨ID
                    const targetId = this.getAttribute('data-target');
                    
                    // æ›´æ–°å¯¼èˆªæ¿€æ´»çŠ¶æ€
                    navLinks.forEach(navLink => navLink.classList.remove('active'));
                    this.classList.add('active');
                    
                    // æ˜¾ç¤ºå¯¹åº”çš„è®¡ç®—å™¨
                    calculators.forEach(calc => calc.classList.remove('active'));
                    document.getElementById(targetId).classList.add('active');
                    
                    // æ›´æ–°é¡µé¢æ ‡é¢˜å’Œæè¿°
                    if (pageData[targetId]) {
                        pageTitle.textContent = pageData[targetId].title;
                        pageDescription.textContent = pageData[targetId].description;
                    }
                    
                    // æ»šåŠ¨åˆ°é¡¶éƒ¨
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            });
            
            // åˆå§‹åŒ–æ‰€æœ‰è®¡ç®—å™¨
            initAllCalculators();
        });
        
        // åˆå§‹åŒ–æ‰€æœ‰è®¡ç®—å™¨
        function initAllCalculators() {
            // åˆå§‹åŒ–ç¬¬ä¸€ä¸ªè®¡ç®—å™¨
            initExposureCalculator();
            
            // åˆå§‹åŒ–ç¬¬äºŒä¸ªè®¡ç®—å™¨
            initOrdersCalculator();
            
            // åˆå§‹åŒ–ç¬¬ä¸‰ä¸ªè®¡ç®—å™¨
            initMarketingCalculator();
            
            // åˆå§‹åŒ–ç¬¬å››ä¸ªè®¡ç®—å™¨
            initUpstreamCalculator();
            
            // åˆå§‹åŒ–ç¬¬äº”ä¸ªè®¡ç®—å™¨
            initActivationProfitCalculator();
        }
        
        // ==================== ç¬¬ä¸€ä¸ªè®¡ç®—å™¨ï¼šæ›å…‰é‡è®¡ç®—å™¨ ====================
        function initExposureCalculator() {
            // æŒ‰å›è½¦é”®è§¦å‘è®¡ç®—
            const inputs1 = document.querySelectorAll('#calculator1 input');
            inputs1.forEach(input => {
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        calculateExposure();
                    }
                });
            });
            
            // è‡ªåŠ¨èšç„¦åˆ°ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†
            document.getElementById('time').focus();
        }
        
        function calculateExposure() {
            // è·å–è¾“å…¥å€¼
            const timeInput = document.getElementById('time');
            const exposureInput = document.getElementById('exposure');
            
            const time = parseFloat(timeInput.value);
            const exposure = parseFloat(exposureInput.value);
            
            // éªŒè¯è¾“å…¥
            if (isNaN(time) || time <= 0 || time > 60) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„å·²ç”¨æ—¶é—´ï¼ˆ0-60åˆ†é’Ÿï¼‰');
                timeInput.focus();
                return;
            }
            
            if (isNaN(exposure) || exposure <= 0) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„å½“å‰æ›å…‰é‡');
                exposureInput.focus();
                return;
            }
            
            // è®¡ç®—æ¯åˆ†é’Ÿæ›å…‰é‡
            const perMinute = exposure / time;
            
            // è®¡ç®—ä¸€å°æ—¶æ€»æ›å…‰é‡
            const estimatedExposure = perMinute * 60;
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById('perMinute').textContent = perMinute.toFixed(2);
            document.getElementById('estimatedExposure').textContent = Math.round(estimatedExposure).toLocaleString();
            
            // æ˜¾ç¤ºç»“æœåŒºåŸŸ
            const resultDiv = document.getElementById('result1');
            resultDiv.classList.add('show');
            
            // æ·»åŠ åŠ¨ç”»æ•ˆæœ
            resultDiv.style.animation = 'none';
            setTimeout(() => {
                resultDiv.style.animation = 'fadeIn 0.5s ease';
            }, 10);
        }
        
        function resetExposureCalculator() {
            document.getElementById('time').value = '';
            document.getElementById('exposure').value = '';
            document.getElementById('result1').classList.remove('show');
            document.getElementById('time').focus();
        }
        
        // ==================== ç¬¬äºŒä¸ªè®¡ç®—å™¨ï¼šè®¢å•é‡é¢„ä¼°è®¡ç®—å™¨ï¼ˆå¢å¼ºç‰ˆï¼‰ ====================
        function initOrdersCalculator() {
            // æ˜¾ç¤ºå½“å‰æ—¶é—´
            function updateCurrentTime() {
                const now = new Date();
                const hours = String(now.getHours()).padStart(2, '0');
                const minutes = String(now.getMinutes()).padStart(2, '0');
                const seconds = String(now.getSeconds()).padStart(2, '0');
                document.getElementById('currentTime').textContent = `${hours}:${minutes}:${seconds}`;
                
                // å¦‚æœå½“å‰æ—¶é—´è¾“å…¥æ¡†ä¸ºç©ºï¼Œè‡ªåŠ¨å¡«å…¥å½“å‰å°æ—¶
                const currentHourInput = document.getElementById('currentHour');
                if (currentHourInput.value === '') {
                    currentHourInput.value = now.getHours();
                }
            }
            
            // æ›´æ–°å½“å‰æ—¶é—´
            updateCurrentTime();
            setInterval(updateCurrentTime, 1000);
            
            // æŒ‰å›è½¦é”®è§¦å‘è®¡ç®—
            const inputs2 = document.querySelectorAll('#calculator2 input');
            inputs2.forEach(input => {
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        calculateOrders();
                    }
                });
            });
            
            // éšè—ç»“æœåŒºåŸŸ
            document.getElementById('results2').style.display = 'none';
            document.getElementById('timeRemaining').style.display = 'none';
            
            // è‡ªåŠ¨æ›´æ–°æ¯å•æ¨å¹¿æˆæœ¬æ˜¾ç¤º
            const costPerOrderInput = document.getElementById('costPerOrder');
            costPerOrderInput.addEventListener('input', function() {
                document.getElementById('costPerOrderValue').textContent = this.value;
            });
        }
        
        function calculateOrders() {
            // è·å–è¾“å…¥å€¼
            const currentHour = parseInt(document.getElementById('currentHour').value);
            const currentOrders = parseInt(document.getElementById('currentOrders').value);
            const hourlyOrders = parseInt(document.getElementById('hourlyOrders').value);
            const costPerOrder = parseFloat(document.getElementById('costPerOrder').value);
            
            // éªŒè¯è¾“å…¥
            if (isNaN(currentHour) || currentHour < 0 || currentHour > 23) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„å½“å‰æ—¶é—´ï¼ˆ0-23ä¹‹é—´çš„æ•´æ•°ï¼‰');
                document.getElementById('currentHour').focus();
                return;
            }
            
            if (isNaN(currentOrders) || currentOrders < 0) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„å½“å‰è®¢å•æ€»æ•°');
                document.getElementById('currentOrders').focus();
                return;
            }
            
            if (isNaN(hourlyOrders) || hourlyOrders < 0) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„æ¯å°æ—¶è®¢å•æ•°');
                document.getElementById('hourlyOrders').focus();
                return;
            }
            
            if (isNaN(costPerOrder) || costPerOrder < 0) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„æ¯å•æ¨å¹¿æˆæœ¬');
                document.getElementById('costPerOrder').focus();
                return;
            }
            
            // è®¡ç®—å‰©ä½™å°æ—¶æ•°ï¼ˆä»å½“å‰æ—¶é—´åˆ°24ç‚¹ï¼‰
            const remainingHours = 24 - currentHour;
            
            // è®¡ç®—å‰©ä½™è®¢å•
            const remainingOrders = remainingHours * hourlyOrders;
            
            // è®¡ç®—ä»Šæ—¥æ€»é¢„è®¡è®¢å•
            const totalOrders = currentOrders + remainingOrders;
            
            // è®¡ç®—é¢„ä¼°æ¶ˆè€—æ¨å¹¿è´¹
            const estimatedCost = totalOrders * costPerOrder;
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById('remainingHours').textContent = remainingHours;
            document.getElementById('remainingOrders').textContent = remainingOrders.toLocaleString();
            document.getElementById('totalOrders').textContent = totalOrders.toLocaleString();
            document.getElementById('estimatedCost').textContent = estimatedCost.toFixed(2).toLocaleString();
            
            // æ˜¾ç¤ºè®¡ç®—è¯´æ˜
            document.getElementById('hoursRemaining').textContent = remainingHours;
            document.getElementById('hourlyRate').textContent = hourlyOrders;
            document.getElementById('remainingResult').textContent = remainingOrders.toLocaleString();
            document.getElementById('currentTotal').textContent = currentOrders.toLocaleString();
            document.getElementById('remainingResult2').textContent = remainingOrders.toLocaleString();
            document.getElementById('finalTotal').textContent = totalOrders.toLocaleString();
            document.getElementById('finalTotal2').textContent = totalOrders.toLocaleString();
            document.getElementById('costPerOrderValue').textContent = costPerOrder.toFixed(2);
            document.getElementById('finalCost').textContent = estimatedCost.toFixed(2).toLocaleString();
            
            // æ˜¾ç¤ºç»“æœåŒºåŸŸ
            document.getElementById('results2').style.display = 'grid';
            document.getElementById('timeRemaining').style.display = 'block';
            
            // æ·»åŠ åŠ¨ç”»æ•ˆæœ
            const resultBoxes = document.querySelectorAll('#calculator2 .result-box');
            resultBoxes.forEach((box, index) => {
                box.style.animation = 'none';
                setTimeout(() => {
                    box.style.animation = `fadeIn 0.5s ease ${index * 0.1}s`;
                }, 10);
            });
        }
        
        function resetOrdersCalculator() {
            document.getElementById('currentHour').value = '';
            document.getElementById('currentOrders').value = '';
            document.getElementById('hourlyOrders').value = '';
            document.getElementById('costPerOrder').value = '19.55';
            document.getElementById('results2').style.display = 'none';
            document.getElementById('timeRemaining').style.display = 'none';
            
            // è‡ªåŠ¨å¡«å…¥å½“å‰å°æ—¶
            const now = new Date();
            document.getElementById('currentHour').value = now.getHours();
            document.getElementById('currentHour').focus();
        }
        
        // ==================== ç¬¬ä¸‰ä¸ªè®¡ç®—å™¨ï¼šè¥é”€ç›ˆåˆ©è®¡ç®—å™¨ ====================
        function initMarketingCalculator() {
            // è·å–DOMå…ƒç´ 
            const activationValueInput = document.getElementById('activationValue3');
            const activationRateInput = document.getElementById('activationRate3');
            const formCostInput = document.getElementById('formCost3');
            
            const activationCostResult = document.getElementById('activationCostResult3');
            const activationProfitResult = document.getElementById('activationProfitResult3');
            const breakEvenRateResult = document.getElementById('breakEvenRateResult3');
            const profitStatusResult = document.getElementById('profitStatusResult3');
            
            const calculateBtn = document.getElementById('calculateBtn3');
            const clearBtn = document.getElementById('clearBtn3');
            const exampleBtn = document.getElementById('exampleBtn3');
            
            const profitMessage = document.getElementById('profitMessage3');
            
            // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
            calculateBtn.addEventListener('click', calculateMarketingResults);
            clearBtn.addEventListener('click', clearMarketingInputs);
            exampleBtn.addEventListener('click', loadMarketingExample);
            
            // ä¸ºè¾“å…¥æ¡†æ·»åŠ Enteré”®æ”¯æŒ
            activationValueInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') calculateMarketingResults();
            });
            
            activationRateInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') calculateMarketingResults();
            });
            
            formCostInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') calculateMarketingResults();
            });
            
            // ä¸ºè¾“å…¥æ¡†æ·»åŠ inputäº‹ä»¶ï¼Œå®æ—¶æ›´æ–°è®¡ç®—
            activationValueInput.addEventListener('input', calculateMarketingResults);
            activationRateInput.addEventListener('input', calculateMarketingResults);
            formCostInput.addEventListener('input', calculateMarketingResults);
            
            // åˆå§‹åŒ–ç¤ºä¾‹
            loadMarketingExample();
        }
        
        function calculateMarketingResults() {
            // è·å–è¾“å…¥å€¼
            const activationValue = parseFloat(document.getElementById('activationValue3').value);
            const activationRate = parseFloat(document.getElementById('activationRate3').value);
            const formCost = parseFloat(document.getElementById('formCost3').value);
            
            // ç»Ÿè®¡æœ‰æ•ˆè¾“å…¥çš„æ•°é‡
            const validInputs = [
                !isNaN(activationValue) && activationValue > 0,
                !isNaN(activationRate) && activationRate > 0 && activationRate <= 100,
                !isNaN(formCost) && formCost > 0
            ].filter(Boolean).length;
            
            // å¦‚æœæœ‰è‡³å°‘ä¸¤ä¸ªæœ‰æ•ˆè¾“å…¥ï¼Œè¿›è¡Œè®¡ç®—
            if (validInputs >= 2) {
                let calculatedValues = {};
                
                // æ ¹æ®å¯ç”¨æ•°æ®è®¡ç®—ç¼ºå¤±çš„å€¼
                if (!isNaN(activationValue) && !isNaN(activationRate) && isNaN(formCost)) {
                    // è®¡ç®—è¡¨å•æˆæœ¬ï¼ˆä»æ¿€æ´»æˆæœ¬å’Œæ¿€æ´»ç‡æ¨å¯¼ï¼‰
                    const breakEvenFormCost = activationValue * (activationRate / 100);
                    document.getElementById('formCost3').value = breakEvenFormCost.toFixed(2);
                    calculatedValues.formCost = breakEvenFormCost;
                } else if (!isNaN(activationValue) && !isNaN(formCost) && isNaN(activationRate)) {
                    // è®¡ç®—æ¿€æ´»ç‡ï¼ˆä»è¡¨å•æˆæœ¬å’Œæ¿€æ´»ä»·å€¼æ¨å¯¼ï¼‰
                    const breakEvenRate = (formCost / activationValue) * 100;
                    document.getElementById('activationRate3').value = breakEvenRate.toFixed(2);
                    calculatedValues.activationRate = breakEvenRate;
                } else if (!isNaN(activationRate) && !isNaN(formCost) && isNaN(activationValue)) {
                    // è®¡ç®—æ¿€æ´»ä»·å€¼ï¼ˆä»è¡¨å•æˆæœ¬å’Œæ¿€æ´»ç‡æ¨å¯¼ï¼‰
                    const breakEvenActivationValue = formCost / (activationRate / 100);
                    document.getElementById('activationValue3').value = breakEvenActivationValue.toFixed(2);
                    calculatedValues.activationValue = breakEvenActivationValue;
                }
                
                // ç°åœ¨æ‰€æœ‰ä¸‰ä¸ªå€¼éƒ½åº”è¯¥æœ‰æ•ˆäº†ï¼Œè¿›è¡Œè®¡ç®—
                const av = !isNaN(activationValue) ? activationValue : calculatedValues.activationValue;
                const ar = !isNaN(activationRate) ? activationRate : calculatedValues.activationRate;
                const fc = !isNaN(formCost) ? formCost : calculatedValues.formCost;
                
                // è®¡ç®—å…³é”®æŒ‡æ ‡
                const activationCost = fc / (ar / 100);
                const activationProfit = av - activationCost;
                const breakEvenRate = (fc / av) * 100;
                
                // æ›´æ–°ç»“æœå±•ç¤º
                document.getElementById('activationCostResult3').textContent = `${activationCost.toFixed(2)} å…ƒ`;
                document.getElementById('activationProfitResult3').textContent = `${activationProfit.toFixed(2)} å…ƒ`;
                document.getElementById('breakEvenRateResult3').textContent = `${breakEvenRate.toFixed(2)} %`;
                
                // æ›´æ–°åˆ©æ¶¦çŠ¶æ€
                if (activationProfit > 0) {
                    document.getElementById('profitStatusResult3').textContent = "ç›ˆåˆ©";
                    document.getElementById('profitStatusResult3').style.color = "#28a745";
                } else if (activationProfit < 0) {
                    document.getElementById('profitStatusResult3').textContent = "äºæŸ";
                    document.getElementById('profitStatusResult3').style.color = "#dc3545";
                } else {
                    document.getElementById('profitStatusResult3').textContent = "ç›ˆäºå¹³è¡¡";
                    document.getElementById('profitStatusResult3').style.color = "#ffc107";
                }
                
                // è¿›è¡Œç›ˆåˆ©åˆ†æ
                performMarketingProfitAnalysis(av, ar, fc, activationCost, activationProfit, breakEvenRate);
            } else {
                // æ²¡æœ‰è¶³å¤Ÿçš„æ•°æ®
                document.getElementById('activationCostResult3').textContent = "-- å…ƒ";
                document.getElementById('activationProfitResult3').textContent = "-- å…ƒ";
                document.getElementById('breakEvenRateResult3').textContent = "-- %";
                document.getElementById('profitStatusResult3').textContent = "--";
                document.getElementById('profitStatusResult3').style.color = "#6c757d";
                
                if (validInputs === 0) {
                    document.getElementById('profitMessage3').textContent = "è¯·è¾“å…¥è‡³å°‘ä¸¤ä¸ªå€¼è¿›è¡Œè®¡ç®—";
                    document.getElementById('profitMessage3').className = "profit-message profit-neutral";
                } else if (validInputs === 1) {
                    document.getElementById('profitMessage3').textContent = "è¯·å†è¾“å…¥ä¸€ä¸ªå€¼è¿›è¡Œè®¡ç®—";
                    document.getElementById('profitMessage3').className = "profit-message profit-neutral";
                }
            }
        }
        
        function performMarketingProfitAnalysis(activationValue, activationRate, formCost, activationCost, activationProfit, breakEvenRate) {
            let message = "";
            let messageClass = "";
            
            if (activationProfit > 0) {
                message = `ç›ˆåˆ©çŠ¶æ€ï¼šæ¯ä¸ªæ¿€æ´»å¯ç›ˆåˆ© ${activationProfit.toFixed(2)} å…ƒã€‚æ‚¨çš„æ¿€æ´»ç‡ ${activationRate.toFixed(2)}% é«˜äºç›ˆäºå¹³è¡¡ç‚¹ ${breakEvenRate.toFixed(2)}%ã€‚`;
                messageClass = "profit-positive";
            } else if (activationProfit < 0) {
                message = `äºæŸçŠ¶æ€ï¼šæ¯ä¸ªæ¿€æ´»äºæŸ ${Math.abs(activationProfit).toFixed(2)} å…ƒã€‚éœ€è¦å°†æ¿€æ´»ç‡æé«˜åˆ° ${breakEvenRate.toFixed(2)}% æ‰èƒ½ç›ˆåˆ©ï¼ˆå½“å‰ä¸º ${activationRate.toFixed(2)}%ï¼‰ã€‚`;
                messageClass = "profit-negative";
            } else {
                message = "ç›ˆäºå¹³è¡¡ï¼šæ‚¨çš„æ¿€æ´»ç‡åˆšå¥½è¾¾åˆ°ç›ˆäºå¹³è¡¡ç‚¹ï¼Œæ²¡æœ‰ç›ˆåˆ©ä¹Ÿæ²¡æœ‰äºæŸã€‚";
                messageClass = "profit-neutral";
            }
            
            // æ·»åŠ è¯¦ç»†åˆ†æ
            const formsCount = 100; // å‡è®¾100ä¸ªè¡¨å•
            const totalFormCost = formCost * formsCount;
            const activationsCount = Math.round(formsCount * activationRate / 100);
            const totalActivationProfit = activationValue * activationsCount;
            const totalActivationCost = activationCost * activationsCount;
            const totalNetProfit = activationProfit * activationsCount;
            
            const detailedAnalysis = document.createElement('div');
            detailedAnalysis.style.marginTop = "15px";
            detailedAnalysis.style.fontSize = "0.95rem";
            detailedAnalysis.innerHTML = `
                <p><strong>åŸºäº${formsCount}ä¸ªè¡¨å•çš„è¯¦ç»†åˆ†æï¼š</strong></p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>æ€»è¡¨å•æˆæœ¬ï¼š<strong>${totalFormCost.toFixed(2)}</strong> å…ƒ</li>
                    <li>æ¿€æ´»å®¢æˆ·æ•°ï¼š<strong>${activationsCount}</strong> ä¸ª</li>
                    <li>æ¿€æ´»æ€»åˆ©æ¶¦ï¼š<strong>${totalActivationProfit.toFixed(2)}</strong> å…ƒ</li>
                    <li>æ¿€æ´»æ€»æˆæœ¬ï¼š<strong>${totalActivationCost.toFixed(2)}</strong> å…ƒ</li>
                    <li>å‡€åˆ©æ¶¦ï¼š<strong>${totalNetProfit.toFixed(2)}</strong> å…ƒ</li>
                </ul>
            `;
            
            const profitMessage = document.getElementById('profitMessage3');
            profitMessage.innerHTML = message;
            profitMessage.className = `profit-message ${messageClass}`;
            profitMessage.appendChild(detailedAnalysis);
        }
        
        function clearMarketingInputs() {
            document.getElementById('activationValue3').value = '';
            document.getElementById('activationRate3').value = '';
            document.getElementById('formCost3').value = '';
            
            document.getElementById('activationCostResult3').textContent = "-- å…ƒ";
            document.getElementById('activationProfitResult3').textContent = "-- å…ƒ";
            document.getElementById('breakEvenRateResult3').textContent = "-- %";
            document.getElementById('profitStatusResult3').textContent = "--";
            document.getElementById('profitStatusResult3').style.color = "#6c757d";
            
            document.getElementById('profitMessage3').textContent = "è¯·è¾“å…¥è‡³å°‘ä¸¤ä¸ªå€¼è¿›è¡Œè®¡ç®—";
            document.getElementById('profitMessage3').className = "profit-message profit-neutral";
        }
        
        function loadMarketingExample() {
            document.getElementById('activationValue3').value = 94;
            document.getElementById('activationRate3').value = 25;
            document.getElementById('formCost3').value = 23;
            
            calculateMarketingResults();
            
            document.getElementById('profitMessage3').textContent = "ç¤ºä¾‹å·²åŠ è½½ï¼šæ¿€æ´»ä»·å€¼=94å…ƒï¼Œæ¿€æ´»ç‡=25%ï¼Œè¡¨å•æˆæœ¬=23å…ƒ";
            document.getElementById('profitMessage3').className = "profit-message profit-neutral";
        }
       // ==================== ç¬¬å››ä¸ªè®¡ç®—å™¨ï¼šä¸Šæ¸¸æ¿€æ´»ä»·å€¼è®¡ç®—å™¨ ====================
function initUpstreamCalculator() {
    // ç¤ºä¾‹æ•°æ®ï¼ˆåŸºäºæ‚¨ä¹‹å‰æä¾›çš„æ•°æ®ï¼‰
    const exampleData = [
        { name: "éªä¼¯", orders: 1750, activations: 679, commission: 120, rate: 99.53 },
        { name: "å¯å½“", orders: 894, activations: 75, commission: 120, rate: 62.67 },
        { name: "çºµæ¨ª", orders: 706, activations: 71, commission: 120, rate: 57.75 },
        { name: "ç›¸æ£®", orders: 391, activations: 47, commission: 120, rate: 100 },
        { name: "æŸå·", orders: 339, activations: 74, commission: 90, rate: 95.56 },
        { name: "æ€¡é€š", orders: 323, activations: 51, commission: 120, rate: 70.59 },
        { name: "å·ä»¤", orders: 308, activations: 39, commission: 240, rate: 76.92 },
        { name: "å¡é‘«æ˜Ÿ", orders: 118, activations: 19, commission: 115, rate: 68.42 },
        { name: "å¡èµ›", orders: 28, activations: 6, commission: 110, rate: 66.67 },
        { name: "é‡‘æ™®æ³°", orders: 13, activations: 1, commission: 120, rate: 100 }
    ];
    
    const tableBody = document.getElementById('tableBody');
    const addRowBtn = document.getElementById('addRowBtn');
    const calculateBtn = document.getElementById('calculateBtn4');
    const resetBtn = document.getElementById('resetBtn4');
    const loadExampleBtn = document.getElementById('loadExampleBtn4');
    
    // ä»localStorageè·å–å­˜å‚¨çš„é”®å
    const storageKey = 'upstream_calculator_data';
    
    // ä»æœ¬åœ°å­˜å‚¨åŠ è½½æ•°æ®
    function loadFromLocalStorage() {
        const savedData = localStorage.getItem(storageKey);
        if (savedData) {
            try {
                return JSON.parse(savedData);
            } catch (e) {
                console.error('è§£ææœ¬åœ°å­˜å‚¨æ•°æ®å¤±è´¥:', e);
                return null;
            }
        }
        return null;
    }
    
    // ä¿å­˜æ•°æ®åˆ°æœ¬åœ°å­˜å‚¨
    function saveToLocalStorage() {
        const rows = tableBody.querySelectorAll('tr:not(.empty-row)');
        const dataToSave = [];
        
        rows.forEach(row => {
            const name = row.querySelector('.upstream-name').value || '';
            const orders = parseFloat(row.querySelector('.orders').value) || 0;
            const activations = parseFloat(row.querySelector('.activations').value) || 0;
            const commission = parseFloat(row.querySelector('.commission').value) || 0;
            const rate = parseFloat(row.querySelector('.rate').value) || 0;
            
            // åªä¿å­˜æœ‰æ•°æ®çš„è¡Œ
            if (name || orders > 0 || activations > 0 || commission > 0 || rate > 0) {
                dataToSave.push({
                    name: name,
                    orders: orders,
                    activations: activations,
                    commission: commission,
                    rate: rate
                });
            }
        });
        
        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
        localStorage.setItem(storageKey, JSON.stringify(dataToSave));
        console.log('æ•°æ®å·²ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨:', dataToSave.length, 'è¡Œæ•°æ®');
    }
    
    // æ¸…é™¤æœ¬åœ°å­˜å‚¨
    function clearLocalStorage() {
        localStorage.removeItem(storageKey);
        console.log('æœ¬åœ°å­˜å‚¨æ•°æ®å·²æ¸…é™¤');
    }
    
    // æ·»åŠ ä¸Šæ¸¸è¡Œ
    function addRow(data = {}) {
        // ç§»é™¤ç©ºè¡Œæç¤º
        const emptyRow = tableBody.querySelector('.empty-row');
        if (emptyRow) emptyRow.remove();
        
        const row = document.createElement('tr');
        row.innerHTML = `
            <td><input type="text" class="upstream-name" value="${data.name || ''}" placeholder="è¾“å…¥ä¸Šæ¸¸åç§°"></td>
            <td><input type="number" class="orders" value="${data.orders || ''}" placeholder="è®¢å•æ•°" min="0"></td>
            <td><input type="number" class="activations" value="${data.activations || ''}" placeholder="æ¿€æ´»æ•°" min="0"></td>
            <td><input type="number" class="commission" value="${data.commission || ''}" placeholder="ä½£é‡‘" min="0" step="0.01"></td>
            <td><input type="number" class="rate" value="${data.rate || ''}" placeholder="å……å€¼ç‡" min="0" max="100" step="0.01"></td>
            <td class="calc-cell activation-value">0.00</td>
            <td class="calc-cell estimated-income">0.00</td>
            <td><button class="delete-btn"><i class="fas fa-trash-alt"></i></button></td>
        `;
        
        tableBody.appendChild(row);
        
        // æ·»åŠ åˆ é™¤æŒ‰é’®äº‹ä»¶
        const deleteBtn = row.querySelector('.delete-btn');
        deleteBtn.addEventListener('click', function() {
            row.remove();
            calculateUpstreamTotals();
            // å¦‚æœåˆ é™¤äº†æ‰€æœ‰è¡Œï¼Œæ˜¾ç¤ºç©ºè¡Œæç¤º
            if (tableBody.children.length === 0) {
                showEmptyRow();
            }
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            saveToLocalStorage();
        });
        
        // ä¸ºè¾“å…¥æ¡†æ·»åŠ äº‹ä»¶ç›‘å¬
        const inputs = row.querySelectorAll('input');
        inputs.forEach(input => {
            input.addEventListener('input', function() {
                calculateRow.call(row);
                // è¾“å…¥æ—¶è‡ªåŠ¨ä¿å­˜
                saveToLocalStorage();
            });
            input.addEventListener('change', function() {
                calculateRow.call(row);
                // å€¼æ”¹å˜æ—¶è‡ªåŠ¨ä¿å­˜
                saveToLocalStorage();
            });
        });
        
        // è®¡ç®—è¯¥è¡Œæ•°æ®
        calculateRow.call(row);
        
        return row;
    }
    
    // è®¡ç®—å•è¡Œæ•°æ®
    function calculateRow() {
        const row = this.closest ? this.closest('tr') : this;
        const orders = parseFloat(row.querySelector('.orders').value) || 0;
        const activations = parseFloat(row.querySelector('.activations').value) || 0;
        const commission = parseFloat(row.querySelector('.commission').value) || 0;
        const rate = parseFloat(row.querySelector('.rate').value) || 0;
        
        // è®¡ç®—æ¿€æ´»ä»·å€¼ = ä½£é‡‘ * (æ¿€æ´»å……å€¼ç‡ / 100)
        const activationValue = commission * (rate / 100);
        // è®¡ç®—é¢„ä¼°æ”¶å…¥ = æ¿€æ´»æ•° * æ¿€æ´»ä»·å€¼
        const estimatedIncome = activations * activationValue;
        
        // æ›´æ–°æ˜¾ç¤º
        row.querySelector('.activation-value').textContent = activationValue.toFixed(2);
        row.querySelector('.estimated-income').textContent = estimatedIncome.toFixed(2);
        
        // æ›´æ–°æ€»è®¡
        calculateUpstreamTotals();
    }
    
    // è®¡ç®—æ€»è®¡
    function calculateUpstreamTotals() {
        const rows = tableBody.querySelectorAll('tr:not(.empty-row)');
        let totalOrders = 0;
        let totalActivations = 0;
        let totalIncome = 0;
        
        rows.forEach(row => {
            const orders = parseFloat(row.querySelector('.orders').value) || 0;
            const activations = parseFloat(row.querySelector('.activations').value) || 0;
            const income = parseFloat(row.querySelector('.estimated-income').textContent) || 0;
            
            totalOrders += orders;
            totalActivations += activations;
            totalIncome += income;
        });
        
        // è®¡ç®—æ•´ä½“å¹³å‡æ¿€æ´»ä»·å€¼
        const avgActivationValue = totalActivations > 0 ? totalIncome / totalActivations : 0;
        
        // æ›´æ–°æ˜¾ç¤º
        document.getElementById('totalOrders4').textContent = totalOrders.toLocaleString();
        document.getElementById('totalActivations4').textContent = totalActivations.toLocaleString();
        document.getElementById('totalIncome4').textContent = totalIncome.toFixed(2);
        document.getElementById('avgActivationValue4').textContent = avgActivationValue.toFixed(2);
    }
    
    // æ˜¾ç¤ºç©ºè¡Œæç¤º
    function showEmptyRow() {
        const emptyRow = document.createElement('tr');
        emptyRow.className = 'empty-row';
        emptyRow.innerHTML = '<td colspan="8">æš‚æ— æ•°æ®ï¼Œè¯·ç‚¹å‡»"æ·»åŠ ä¸Šæ¸¸"æŒ‰é’®æ·»åŠ æ•°æ®</td>';
        tableBody.appendChild(emptyRow);
    }
    
    // é‡ç½®æ•°æ®
    function resetData() {
        tableBody.innerHTML = '';
        showEmptyRow();
        calculateUpstreamTotals();
        // æ¸…é™¤æœ¬åœ°å­˜å‚¨
        clearLocalStorage();
    }
    
    // åŠ è½½ç¤ºä¾‹æ•°æ®
    function loadExampleData() {
        resetData();
        exampleData.forEach(data => addRow(data));
        // ä¿å­˜ç¤ºä¾‹æ•°æ®åˆ°æœ¬åœ°å­˜å‚¨
        saveToLocalStorage();
    }
    
    // åŠ è½½æœ¬åœ°å­˜å‚¨çš„æ•°æ®
    function loadSavedData() {
        const savedData = loadFromLocalStorage();
        if (savedData && savedData.length > 0) {
            console.log('ä»æœ¬åœ°å­˜å‚¨åŠ è½½æ•°æ®:', savedData.length, 'è¡Œ');
            resetData();
            savedData.forEach(data => addRow(data));
        } else {
            console.log('æœ¬åœ°å­˜å‚¨ä¸­æ²¡æœ‰æ•°æ®ï¼ŒåŠ è½½ç¤ºä¾‹æ•°æ®');
            loadExampleData();
        }
    }
    
    // äº‹ä»¶ç›‘å¬
    addRowBtn.addEventListener('click', () => {
        addRow();
        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
        saveToLocalStorage();
    });
    
    calculateBtn.addEventListener('click', calculateUpstreamTotals);
    resetBtn.addEventListener('click', resetData);
    loadExampleBtn.addEventListener('click', loadExampleData);
    
    // åˆå§‹åŠ è½½æ•°æ® - ä¼˜å…ˆä»æœ¬åœ°å­˜å‚¨åŠ è½½
    loadSavedData();
}
        
        // ==================== ç¬¬äº”ä¸ªè®¡ç®—å™¨ï¼šæ¿€æ´»åˆ©æ¶¦ä¸ç›ˆäºå¹³è¡¡è®¡ç®—å™¨ ====================
        function initActivationProfitCalculator() {
            const totalOrdersInput = document.getElementById('totalOrders5');
            const totalActivationsInput = document.getElementById('totalActivations5');
            const totalCostInput = document.getElementById('totalCost5');
            const activationValueInput = document.getElementById('activationValue5');
            const calculateBtn = document.getElementById('calculateBtn5');
            const resetBtn = document.getElementById('resetBtn5');
            
            // ç»“æœå…ƒç´ 
            const activationRateEl = document.getElementById('activationRate5');
            const costPerOrderEl = document.getElementById('costPerOrder5');
            const totalProfitEl = document.getElementById('totalProfit5');
            const profitPerOrderEl = document.getElementById('profitPerOrder5');
            const activationCostEl = document.getElementById('activationCost5');
            const profitRatioEl = document.getElementById('profitRatio5');
            const profitWarningEl = document.getElementById('profitWarning5');
            
            // ç›ˆäºå¹³è¡¡å…ƒç´ 
            const breakEvenRateEl = document.getElementById('breakEvenRate5');
            const breakEvenCostEl = document.getElementById('breakEvenCost5');
            const breakEvenRateTextEl = document.getElementById('breakEvenRateText5');
            const breakEvenCostTextEl = document.getElementById('breakEvenCostText5');
            const breakEvenRateConditionEl = document.getElementById('breakEvenRateCondition5');
            const breakEvenCostConditionEl = document.getElementById('breakEvenCostCondition5');
            
            // è®¡ç®—æ‰€æœ‰æŒ‡æ ‡
            function calculateMetrics() {
                // è·å–è¾“å…¥å€¼
                const totalOrders = parseFloat(totalOrdersInput.value) || 0;
                const totalActivations = parseFloat(totalActivationsInput.value) || 0;
                const totalCost = parseFloat(totalCostInput.value) || 0;
                const activationValue = parseFloat(activationValueInput.value) || 0;
                
                // è®¡ç®—åŸºç¡€æŒ‡æ ‡
                const activationRate = totalOrders > 0 ? (totalActivations / totalOrders) * 100 : 0;
                const costPerOrder = totalOrders > 0 ? totalCost / totalOrders : 0;
                const totalProfit = (totalActivations * activationValue) - totalCost;
                const profitPerOrder = totalOrders > 0 ? totalProfit / totalOrders : 0;
                const activationCost = totalActivations > 0 ? totalCost / totalActivations : 0;
                const profitRatio = totalCost > 0 ? (totalProfit / totalCost) * 100 : 0;
                
                // è®¡ç®—ç›ˆäºå¹³è¡¡ç‚¹
                const breakEvenRate = activationValue > 0 ? (costPerOrder / activationValue) * 100 : 0;
                const breakEvenCost = (activationRate / 100) * activationValue;
                
                // æ›´æ–°ç»“æœæ˜¾ç¤º
                activationRateEl.textContent = activationRate.toFixed(2) + '%';
                costPerOrderEl.textContent = costPerOrder.toFixed(2);
                totalProfitEl.textContent = totalProfit.toFixed(2);
                profitPerOrderEl.textContent = profitPerOrder.toFixed(2);
                activationCostEl.textContent = activationCost.toFixed(2);
                profitRatioEl.textContent = profitRatio.toFixed(2) + '%';
                
                // æ›´æ–°ç›ˆäºå¹³è¡¡ç‚¹æ˜¾ç¤º
                breakEvenRateEl.textContent = breakEvenRate.toFixed(2) + '%';
                breakEvenCostEl.textContent = breakEvenCost.toFixed(2);
                breakEvenRateTextEl.textContent = breakEvenRate.toFixed(2) + '%';
                breakEvenCostTextEl.textContent = breakEvenCost.toFixed(2) + 'å…ƒ';
                breakEvenRateConditionEl.textContent = breakEvenRate.toFixed(2) + '%';
                breakEvenCostConditionEl.textContent = breakEvenCost.toFixed(2) + 'å…ƒ';
                
                // æ›´æ–°åˆ©æ¶¦è­¦å‘Šä¿¡æ¯
                updateProfitWarning(totalProfit, profitRatio);
                
                // æ›´æ–°æ•°å€¼é¢œè‰²
                updateValueColors(totalProfit, profitRatio);
            }
            
            // æ›´æ–°åˆ©æ¶¦è­¦å‘Šä¿¡æ¯
            function updateProfitWarning(totalProfit, profitRatio) {
                if (totalProfit > 0) {
                    profitWarningEl.className = 'profit-warning positive';
                    profitWarningEl.innerHTML = `
                        <i class="fas fa-check-circle"></i>
                        <div>å½“å‰å¤„äºç›ˆåˆ©çŠ¶æ€ï¼æ€»åˆ©æ¶¦ä¸º <strong>${totalProfit.toFixed(2)}å…ƒ</strong>ï¼Œåˆ©æ¶¦æ¯”ä¸º <strong>${profitRatio.toFixed(2)}%</strong>ã€‚</div>
                    `;
                } else if (totalProfit < 0) {
                    profitWarningEl.className = 'profit-warning negative';
                    profitWarningEl.innerHTML = `
                        <i class="fas fa-exclamation-triangle"></i>
                        <div>å½“å‰å¤„äºäºæŸçŠ¶æ€ï¼æ€»äºæŸä¸º <strong>${Math.abs(totalProfit).toFixed(2)}å…ƒ</strong>ï¼ŒäºæŸæ¯”ä¸º <strong>${Math.abs(profitRatio).toFixed(2)}%</strong>ã€‚</div>
                    `;
                } else {
                    profitWarningEl.className = 'profit-warning warning';
                    profitWarningEl.innerHTML = `
                        <i class="fas fa-balance-scale"></i>
                        <div>å½“å‰å¤„äºç›ˆäºå¹³è¡¡ç‚¹ï¼æ€»åˆ©æ¶¦ä¸º <strong>0å…ƒ</strong>ã€‚</div>
                    `;
                }
            }
            
            // æ›´æ–°æ•°å€¼é¢œè‰²
            function updateValueColors(totalProfit, profitRatio) {
                // æ€»åˆ©æ¶¦é¢œè‰²
                if (totalProfit > 0) {
                    totalProfitEl.className = 'result-value positive';
                } else if (totalProfit < 0) {
                    totalProfitEl.className = 'result-value negative';
                } else {
                    totalProfitEl.className = 'result-value';
                }
                
                // æ¯å•åˆ©æ¶¦é¢œè‰²
                if (profitPerOrderEl) {
                    const profitPerOrder = parseFloat(profitPerOrderEl.textContent) || 0;
                    if (profitPerOrder > 0) {
                        profitPerOrderEl.className = 'result-value positive';
                    } else if (profitPerOrder < 0) {
                        profitPerOrderEl.className = 'result-value negative';
                    } else {
                        profitPerOrderEl.className = 'result-value';
                    }
                }
                
                // åˆ©æ¶¦æ¯”é¢œè‰²
                if (profitRatio > 0) {
                    profitRatioEl.className = 'result-value positive';
                } else if (profitRatio < 0) {
                    profitRatioEl.className = 'result-value negative';
                } else {
                    profitRatioEl.className = 'result-value';
                }
            }
            
            // é‡ç½®æ•°æ®
            function resetData() {
                totalOrdersInput.value = '';
                totalActivationsInput.value = '';
                totalCostInput.value = '';
                activationValueInput.value = '';
                
                activationRateEl.textContent = '0.00%';
                costPerOrderEl.textContent = '0.00';
                totalProfitEl.textContent = '0.00';
                profitPerOrderEl.textContent = '0.00';
                activationCostEl.textContent = '0.00';
                profitRatioEl.textContent = '0.00%';
                
                breakEvenRateEl.textContent = '0.00%';
                breakEvenCostEl.textContent = '0.00';
                breakEvenRateTextEl.textContent = '0.00%';
                breakEvenCostTextEl.textContent = '0.00å…ƒ';
                breakEvenRateConditionEl.textContent = '0.00%';
                breakEvenCostConditionEl.textContent = '0.00å…ƒ';
                
                profitWarningEl.className = 'profit-warning warning';
                profitWarningEl.innerHTML = `
                    <i class="fas fa-info-circle"></i>
                    <div>è¯·è¾“å…¥æ•°æ®å¹¶ç‚¹å‡»"è®¡ç®—æ‰€æœ‰æŒ‡æ ‡"æŒ‰é’®</div>
                `;
                
                updateValueColors(0, 0);
            }
            
            // äº‹ä»¶ç›‘å¬
            calculateBtn.addEventListener('click', calculateMetrics);
            resetBtn.addEventListener('click', resetData);
            
            // è¾“å…¥æ¡†å˜åŒ–æ—¶è‡ªåŠ¨è®¡ç®—
            [totalOrdersInput, totalActivationsInput, totalCostInput, activationValueInput].forEach(input => {
                input.addEventListener('input', calculateMetrics);
            });
            
            // åˆå§‹åŒ–è®¡ç®—
            calculateMetrics();
        }
    </script>
</body>

</html>


